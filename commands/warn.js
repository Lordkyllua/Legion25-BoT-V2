
const fs = require('fs');
module.exports = { name:'warn', description:'Warn user', execute(message,args){ if(!message.member.permissions.has('KICK_MEMBERS')) return message.reply('No permission'); const u=message.mentions.users.first(); if(!u) return message.reply('Mention user'); const reason=args.slice(1).join(' ')||'No reason'; const db=JSON.parse(fs.readFileSync('./database.json','utf8')); db.warnings=db.warnings||{}; if(!db.warnings[u.id]) db.warnings[u.id]=[]; db.warnings[u.id].push({by:message.author.id,reason,ts:Date.now()}); fs.writeFileSync('./database.json', JSON.stringify(db,null,2)); message.reply('Warned '+u.tag); } };
