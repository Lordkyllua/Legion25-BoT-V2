const fs=require('fs'); const DB='./database.json'; module.exports={name:'warn',description:'Warn user',execute(message,args){ if(!message.member.permissions.has('KickMembers')) return message.reply('No permission'); const u=message.mentions.users.first(); if(!u) return message.reply('Mention user'); const db=JSON.parse(fs.readFileSync(DB,'utf8')||'{}'); db.warnings=db.warnings||{}; db.warnings[u.id]=db.warnings[u.id]||[]; db.warnings[u.id].push({by:message.author.id,reason:args.slice(1).join(' ')||'No reason',ts:Date.now()}); fs.writeFileSync(DB,JSON.stringify(db,null,2)); message.reply('User warned'); }};